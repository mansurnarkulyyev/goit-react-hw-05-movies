{"version":3,"file":"static/js/30.7594506b.chunk.js","mappings":"wQACA,EAAwB,2BAAxB,EAAoE,oCAApE,EAAkH,6BAAlH,EAAsJ,0BAAtJ,EAAwL,mD,SC6DxL,EAvDoB,WAClB,OAA0BA,EAAAA,EAAAA,UAAS,CACjCC,MAAO,GACPC,MAAO,KACPC,SAAS,IACT,eAJKC,EAAK,KAAEC,EAAQ,KAMVC,GAAUC,EAAAA,EAAAA,MAAdC,GACFA,EAAKC,OAAOH,IAElBI,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAgB,yCAAG,yFAGpB,OAFHN,GAAS,SAACO,GACR,OAAO,kBAAKA,GAAS,IAAET,SAAS,EAAMD,OAAO,GAC/C,IAAG,mBAEkBW,EAAAA,EAAAA,IAAoBL,GAAI,KAAD,EAApCM,EAAI,OAEVT,GAAS,SAACO,GACR,OAAO,kBAAKA,GAAS,IAAET,SAAS,EAAOF,MAAOa,EAAKC,SACrD,IAAG,gDAEHV,GAAS,SAACO,GACR,OAAO,kBAAKA,GAAS,IAAET,SAAS,EAAOD,MAAK,MAC9C,IAAG,yDAEN,kBAfqB,mCAgBlBM,GACFG,GAEJ,GAAG,CAACH,IAEJ,IAAQP,EAA0BG,EAA1BH,MAAOC,EAAmBE,EAAnBF,MAAOC,EAAYC,EAAZD,QAEhBa,EAAWf,EAAMgB,KAAI,YAA8B,IAA3BT,EAAE,EAAFA,GAAIU,EAAM,EAANA,OAAQC,EAAO,EAAPA,QACxC,OACE,2BACE,cAAGC,UAAWC,EAAO,2BAAaH,EAAM,QACxC,uBAAIC,MAFGX,EAKb,IAEA,OACE,iBAAKY,UAAWC,EAAiB,WAC/B,eAAID,UAAWC,EAAQ,qBACtBnB,IACC,cAAGkB,UAAWC,EAAQ,mDAEvBlB,IAAW,cAAGiB,UAAWC,EAAQ,UAAC,SAAC,KAAQ,MAC3CL,EAASM,OAAS,GAAI,eAAIF,UAAWC,EAAU,SAAEL,KAAiB,8CAGzE,C,0LC3DMO,E,MAAWC,GAAAA,OAAa,CAC5BC,QAAS,kCAELC,EAAS,mCAEFC,EAAiB,yCAAG,yGAAe,OAARC,EAAI,+BAAG,EAAC,SAGpCL,EAASM,IAAI,qBAAsB,CAC3CC,OAAQ,CACNC,QAASL,EACTE,KAAAA,KAED,KAAD,EANe,OAMf,SANQb,EAAO,EAAfD,KAAQC,QAAO,kBAOVA,GAAO,2CACf,kBAV6B,mCAYjBiB,EAAe,yCAAG,WAAOC,GAAK,4FAAU,OAARL,EAAI,+BAAG,EAAC,SAC5BL,EAASM,IAAI,eAAgB,CAClDC,OAAQ,CACNC,QAASL,EACTE,KAAAA,EACAK,MAAAA,KAED,KAAD,EANU,OAMV,SANMnB,EAAI,EAAJA,KAAI,kBAOLA,GAAI,2CACZ,gBAT2B,sCAWfoB,EAAY,yCAAG,WAAO1B,GAAE,8FACZe,EAASM,IAAI,SAAD,OAAUrB,GAAM,CACjDsB,OAAQ,CACNC,QAASL,KAEV,KAAD,EAJU,OAIV,SAJMZ,EAAI,EAAJA,KAAI,kBAKLA,GAAI,2CACZ,gBAPwB,sCASZqB,EAAmB,yCAAG,WAAO3B,GAAE,8FACnBe,EAASM,IAAI,SAAD,OAAUrB,EAAE,YAAY,CACzDsB,OAAQ,CACNC,QAASL,KAEV,KAAD,EAJU,OAIV,SAJMZ,EAAI,EAAJA,KAAI,kBAKLA,GAAI,2CACZ,gBAP+B,sCASnBD,EAAmB,yCAAG,WAAOL,GAAE,8FACnBe,EAASM,IAAI,SAAD,OAAUrB,EAAE,YAAY,CACzDsB,OAAQ,CACNC,QAASL,KAEV,KAAD,EAJU,OAIV,SAJMZ,EAAI,EAAJA,KAAI,kBAKLA,GAAI,2CACZ,gBAP+B,qC","sources":["webpack://react-router-dom-example/./src/pages/ReviewsPage/reviewsPage.module.css?a61b","pages/ReviewsPage/ReviewsPage.jsx","shared/Api-services/movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"error\":\"reviewsPage_error__VN0Vj\",\"reviewsWrapper\":\"reviewsPage_reviewsWrapper__SyCYU\",\"reviews\":\"reviewsPage_reviews__Nt745\",\"item\":\"reviewsPage_item__ivqOE\",\"title\":\"reviewsPage_title__NdCiX reviewsPage_item__ivqOE\"};","import { useState, useEffect } from \"react\";\nimport { TailSpin } from \"react-loader-spinner\";\nimport { useParams } from \"react-router-dom\";\nimport { getMovieReviewsById } from \"../../shared/Api-services/movies\";\n\nimport s from \"./reviewsPage.module.css\";\n\nconst ReviewsPage = () => {\n  const [state, setState] = useState({\n    items: [],\n    error: null,\n    loading: false,\n  });\n\n  const { id: StrId } = useParams();\n  const id = Number(StrId);\n\n  useEffect(() => {\n    const fetchReviewsById = async () => {\n      setState((prevState) => {\n        return { ...prevState, loading: true, error: false };\n      });\n      try {\n        const data = await getMovieReviewsById(id);\n\n        setState((prevState) => {\n          return { ...prevState, loading: false, items: data.results };\n        });\n      } catch (error) {\n        setState((prevState) => {\n          return { ...prevState, loading: false, error };\n        });\n      }\n    };\n    if (id) {\n      fetchReviewsById();\n    }\n  }, [id]);\n\n  const { items, error, loading } = state;\n\n  const elements = items.map(({ id, author, content }) => {\n    return (\n      <li key={id} >\n        <p className={s.item}>{`Author: ${author} `}</p>\n        <p>{content}</p>\n      </li>\n    );\n  });\n\n  return (\n    <div className={s.reviewsWrapper}>\n      <h2 className={s.title} >Reviews</h2>\n      {error && (\n        <p className={s.error}>We are sorry, a server error occurred</p>\n      )}\n      {loading && <p className={s.error}><TailSpin /></p>}\n      {elements.length > 0 ? <ul className={s.reviews}>{elements}</ul> : <p>no found Reviews</p>}\n    </div>\n  );\n};\n\nexport default ReviewsPage;\n","import axios from \"axios\";\nconst instance = axios.create({\n  baseURL: \"https://api.themoviedb.org/3/\",\n});\nconst APIkey = \"5c333966bb14d20047a3fe3d6491ade8\";\n\nexport const getTrendingMovies = async (page = 1) => {\n  const {\n    data: { results },\n  } = await instance.get(\"trending/movie/day\", {\n    params: {\n      api_key: APIkey,\n      page,\n    },\n  });\n  return results;\n};\n\nexport const getMovieByQwery = async (query, page = 1) => {\n  const { data } = await instance.get(\"search/movie\", {\n    params: {\n      api_key: APIkey,\n      page,\n      query,\n    },\n  });\n  return data;\n};\n\nexport const getMovieById = async (id) => {\n  const { data } = await instance.get(`movie/${id}`, {\n    params: {\n      api_key: APIkey,\n    },\n  });\n  return data;\n};\n\nexport const getMovieCreditsById = async (id) => {\n  const { data } = await instance.get(`movie/${id}/credits`, {\n    params: {\n      api_key: APIkey,\n    },\n  });\n  return data;\n};\n\nexport const getMovieReviewsById = async (id) => {\n  const { data } = await instance.get(`movie/${id}/reviews`, {\n    params: {\n      api_key: APIkey,\n    },\n  });\n  return data;\n};\n"],"names":["useState","items","error","loading","state","setState","StrId","useParams","id","Number","useEffect","fetchReviewsById","prevState","getMovieReviewsById","data","results","elements","map","author","content","className","s","length","instance","axios","baseURL","APIkey","getTrendingMovies","page","get","params","api_key","getMovieByQwery","query","getMovieById","getMovieCreditsById"],"sourceRoot":""}